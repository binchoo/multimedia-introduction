# 아날로그 비디오

## 아날로그 비디오

TV는 이미지를 라인별로 스캔한다. 스캔에는 입력과 출력할 때 하는 두 가지 스캔이 있다. 입력할 때는 카메라를 통해 상이 맺히면 그 상을 전기신호를 바꾸게 되는데 왼쪽 꼭대기부터 라인 바이 라인으로 스캔한다. 디스플레이에서도 마찬가지로 왼쪽 꼭대기에서 라인 바이 라인으로 스캔한다. 

### 스캐닝

- 프로그레시브 스캐닝

  : 영상 한 장을 **프레임**이라고 한다. 프레임의 처음에서 맨 아래쪽까지 주사하면 한 장의 표현이 끝난다. 한 장을 다 주사하는데 다음 프레임을 시작하는데 1/72초가 걸린다면 주사율이 72Hz라는 의미이다.

  CRT 모니터에서 순차적으로 스캐닝을 하다보면 먼저 발광한 부분이 빛을 점점 잃으면서 검은 라인이 쭈르르륵 흘러내리는 형상이 보이게 된다. 이 현상을 **Flickering Effect**라고 한다. **50Hz이상** 주사율이 나오면 플리커링을 줄일 수 있다. 25Hz / 30Hz 모니터에서는 인터레이스드 스캐닝을 써야 한다.

  

- 인터레이스드 스캐닝

  : GIF와 달리 티비에서는 행을 교차로 필드를 나눈다. 1 - 3 - 5 - 6 ... **홀수필드** 스캔이 끝나면 2 - 4 - 6 - 8... 

  **짝수 필드**를 스캔한다.  홀수/기수, 오드/이븐, 탑/바텀 등 여러가지 이름을 붙일 수 있다. 플리커링을 해결한다.
  
  


- Horizontal Balnking Interval, Horizontal Retrace

   : 라인의 왼편부터 오른편까지 이미지를 채우는 데 걸리는 시간

  

- Vertical Blanking Interval , Vertical Retrace 

  : 영상 하나를 다 비추고 나서 다시 처음으로 올라가 새 것을 띄우는 데 까지 걸리는 시간

  

- 싱크 시그널

  : 라인과 라인을 구분하는 시그널이다. **Black보다 낮은 음전압 시그널**을 만나면 수평귀선시간을 갖은 뒤 새로운 라인을 주사한다. 

  

- 픽셀 클락

  : 한 라인에 들어있는 샘플(픽셀)의 수

  

### NTSC 티비 표준 (미국식)

#### 스펙

  - 4:3 화면비, 525 라인, 29.97 프레임, 인터레이스 262.5 라인

  - **수평주사주파수(Horizontal Sweep Frequency)** =  525 라인 x 29.97 번 = 초당 15734 라인

  - **라인 당 주사시간(sec/line)** = 1/15734 초 = 63.6 뮤섹

  - **수평귀선시간(Horizontal Retrace)** = 총 10.9 뮤섹

  - 따라서 한 라인을 위한 **Active Signal의 길이** = 52.7 뮤섹

  - NTSC **채널 주파수** = 6MHz. 우리나라는 방송국 당 6메가로 나눠준 것을 회수해서 재할당 하기가 번거로우니까 그냥 미국식 표준을 따르기로 함.

    

  - 필드 당  **Blanking Line** 20개 = 총 40개의 블랭킹 라인

  - 따라서 **실제 Active Line** = 485 라인

  - non-blanking pixel = active pixel

  - 라인 당 픽셀 수는 정해진 게 없음. 비디오 포맷마다 서로 달리 정하고 있다.

    

  - **YIQ 컬러모델**을 사용한다. 각 신호를 하나의 신호로 합치는 쿼드라틱 모듈레이션을 사용한다.

#### 쿼드라틱 모듈레이션

  - **크로마 시그널(C)** =  I코사인 + Q사인
  - **컴포지트 시그널 (Composite)** = Y + (Icos + Qsin) = Y + C
  - **Y**를 **1.25MHz 대역의 *픽쳐 캐리어***가 운반한다.
  - **C**를 3.58MHz + 1.25MHz(간섭방지) = **4.83MHz 대역의 *컬러 서브캐리어***가 운반한다.
  - ***컬러 서브캐리어***의 **주파수 최솟값** 계산 = 30fps * 1000/1001 * 525lines * 227.5 = 3.58MHz

    

#### 컴포지트에서 Y, I, Q 취하기

  : 로우패스/컷오프/밴드패스(중간 좁은 대역폭)/콤 필터를 활용한다. 빗 모양 콤 필터는 밴드패스 필터를 여러 개 붙인 것이다. 수신기의 콘필터 구현이 잘 되어 있으면 색상이 깨끗해 보인다.

  - 수신 측은 **로우패스 필터로 Y를 떼어낸다**. 콤 필터로 분산하고 있는 Y들도 취한다.

  - C에 **2cos을 곱하여** 정리하면 I + 고주파가 나온다. 로우패스 필터로 I를 취한다.

  - C에 **2sin을 곱하여** 정리하면 Q + 고주파가 나온다. 로우패스 필터로  Q를 취한다.

  - 29.97 프레임은 괜히 30프레임에 1000/1001을 곱해서 그런 것이다.

    

### PAL 비디오 테이프 표준 (유럽식)

  - 4:3화면비, **625** 라인, **25 프레임**, 인터레이스
  - **YUV** 컬러모델
  - 컬러 서브캐리어의 주파수는 **4.43MHz**
  - 크로마 시그널이 **라인을 번갈아 가면서 + 혹은 - 부호로 위상을 반전**한다. **Phase Altering Line**
  - 채널 주파수 **8MHz**

### SECAM 표준 (동남아)

  - 4:3, 625, 25, 인터레이스

  - U, V의 **컬러 서브캐리어가 따로 있다.** 각각 4.25MHz, 4.41MHz

  - 한 라인마다 U, V를 교대하여 전송한다.

  - 채널 주파수 8

    ---

# 디지털 비디오

소프트웨어를 이용해서 처리하기 용이하다. 논리니어한 액세스가 가능하다. 화질열화 없이 복제 가능하다. 노이즈에 대비하여 보완법을 적용하기 쉽다. 암호화가 쉽다.



- 크로마 서브샘플링 Y Cb Cr

  밝기를 인지하는 rods에 비해서, 색상을 인식하는 cones의 RGB 센서가 적으므로, 눈은 색상 레졸루션이 상대적으로 작다. 따라서 **색상 정보를 서브 샘플링을 하여 밝기와 다른 해상도를 주는 것이 합리적**이다.

  - 4 : 4 : 4
  - 4 : 2 : 2 = 밝기 픽셀 4개일 때 씨비는 둘 씨알은 둘
  - 4 : 1 : 1 = 밝기 픽셀 4개일 때 씨비 하나 씨알 하나
  - 4 : 2 : 0 = 4개 중에 

### CCIR 비디오 표준

- 525라인, 라인당 858 픽셀, 액티브는 720픽셀, 인터레이스
- 컬러 해상도를 4 : 2 : 2 서브샘플링 한다.
- 한 픽셀을 표현하는데 2바이트가 필요하다. **Y에 1바이트, Cb 혹은 Cr에 1바이트**
- 4:2:2 서브샘플링을 하기 때문에 **두 칸을 크로마 칠하기 위해서, 첫 칸에 Cr, 다음 칸엔 Cb를 넣어두면** 두 정보를 합쳐서 색이 표현되는 트릭을 쓴다. 용량절감.

### CIF / QCIF = ITU-T

- VHS 퀄리티
- 프로그레시브 스캐닝을 한다.
- 라인 수가 8로 나누어 떨어진다.

## HDTV

- High Definition : 단위 영역 당 픽셀 수가 많다는 뜻. 픽셀의 크기가 작아졌다.
- 영화관처럼 더 많은 영역을 티비에서 보여주고 싶어서, 비주얼 필드를 늘리다가 High Definition이 되어버렸네!?
- **일본** NHK에서 최초로 MUSE 방식의 (Analog 신호 + Digital 컨텐츠) HDTV 방송을 하였다. 1125라인의 16:9 화면이었다. **압축을 안 하는 MUSE는 대역폭을 20MHz나 잡아먹어서** 인공위성을 통해 전송하였다. 
- **미국**은 기존 아날로그 6MHz VHF/UHF **기존대역과 호환하는 HDTV를 원하였다**. 거기에, HD가 아닌 FULL HD를 지원하기로 결정하고 **규격화**에 성공했다. VHF는 메이저 방송사이고, UHF는 지역 방송사들 채널인데 **2015년부로 전부 아날로그 종료**하였다. 
- **우리나라**는 12/12/31이후 아날로그 방송이 종료되었다. 

### ATSC (HDTV의 규격)

- MPEG-2 비디오 압축
- 돌비 AC-3 오디오
- 6 MHz 채널 대역폭, 기존 아날로그 대역 재활용
- **FHD의 경우**
  - **1920가로픽셀 1080라인**
  - 60I (60필드/초)또는 30P(30프레임/초) 또는 24P 주사율
  - **60P를 지원하려면 대역폭이 더 커야돼서요..**
- **HD의 경우**
  - **1280가로픽셀 720라인**
  - 60I, 30P, 24P 주사율
  - 마찬가지로 60P는 안 돼
- 브라운관이 성능향상되어 60I 60P가 가능해지긴 하였다.
- 60I는 필드간 1/60초 차이로 주사되는데 화면에서는 1/60초 **이전 이미지와 현재 이미지가 공존하는 상황이 된다. 일그러짐 발생** 
- **프로그레시브 스캐닝으로 해결**할 수 있다! 주사율이 빨라서 플리커링 x



## 비디오 인터페이스들

### 1. 컴포넌트 비디오 (A)

- 아날로그 중 고급시스템이 이용하는 인터페이스
- R/G/B 채널에 대응하는 물리적 선 3개
- Y/I/Q나 Y/U/V 채널로 사용해도 OK
- 세 개의 채널을 쓰기 때문에 동기화 해야하며 대역폭을 많이 필요로 한다

### 2. 컴포지트 비디오 (A)

- UV나 IQ를 크로마 채널(컬러 서브캐리어)로 합쳐버림
- 크로마 채널과 Y를 합쳐서 컴포지트 시그널을 송수신함
- 따라서 1개 단자가 필요
- 3개 단자의 나머지 2개는 Audio Left, Audio Right 이다.

### 3. S(eperated) 비디오 (A)

- 고주파 쪽에서는 Y와 C가 섞여서 서로에게 노이즈가 됩니다. 컴포지트의 화질열화 단점..
- 따라서 Y와 C의 채널을 따로 둔다. Seperated
- 2개의 단자

### 4. VGA (A)

- Video Graphics Array
- 기본적으로 컴포넌트를 기반으로 한다.
- 2048가로픽셀 * 1536 라인을 85Hz로 주사가능하며 355 MHz 픽셀클락을 갖는다.

### 5. DVI (A + D)

- 글카와 모니터를 연결할 목적으로, 압축하지 않은 비디오 전송
- DVI -D모드, -A모드, -I모드**(아날로그와 디지털 둘 다) 지원**
- **Panel Link** : 고속 Serial 전송링크 이용
- 감마 레벨이 제조사 별로 다른 것을 조정하기 위해 **모니터의 정보를 읽어**와서 감마 정보를 받는다!
- 165MH 픽셀클락 지원
- 1920 * 1080을 60 Hz 주사가능
- 2560 * 1600은 **듀얼 채널을 써서** 60Hz 주사가능

### 6. HDMI (D)

- High Definition **Multimedia** Interface : **비디오 + *오디오***
- DVI 신호를 호환할 수 있다.
- **아날로그 지원하지 않는다**
- 4:4:4 서브샘플링 또는 4:2:2 서브샘플링
- RGB 신호 사용할 수 있다
- **HDMI 1.0** 165 MHz = FHD (1920*1080) @ 60 Hz
- **HDMI 1.3** 340 MHZ = QHD (2560*1600) @ 60 Hz
- **HDMI 2.0** = 4K (3840 * 2160)@ 60 Hz

---

# 3D 입체 비디오

영상에서 거리감을 느낄 수 있도록 다음 개념들이 이용된다.

- **Streoscopis = 양안시차**
- **Accomodation of the Eye = 원근조절**;
- 폐색 = 물체의 가로막음
- 크기를 아는 물체의 시야각 대비
- 소실점 = 물체 끝단의 수렴
- 상하 위치 = 위쪽에 있는 것이 더 멀리있을 것 같음
- 색의 혼탁, 푸르스름
- 질감과 패턴의 변화



### Stereoscopic Image 방식

좌안과 우안에 입력되는 영상을 다르게 하여 입체감을 부여한다. 따라서 두 장의 영상을 사용한다.

### 3D display 방식

- 적청안경

  두 그림을 겹치되, 하나는 적색을 빼고 하나는 청색을 뺀다. 

- 편광안경

  영상의 절반은 좌안용, 나머지 절반은 우안용이다. 두 영상은 파장이 다르다. 편광기는 파장이 맞는 영상맞 투과시키므로 각 눈에 알맞은 영상이 들어온다. 해상도가 절반이 된다.

- 셔터안경

  TV와 싱크된 안경이 타이밍에 맞춰서 셔터(암막)를 친다. 좌안용 우안용 영상이 번갈아 들어오겠쥬?